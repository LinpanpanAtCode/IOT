从21年开始从事智能家居行业的工作刚好快3年了，在这3年负责过蓝牙、蓝牙MESH、局域网等相关的工作，为了巩固一下自己这三年的工作经历，这里做一下总结。
在IOT行业，最主要的两个功能就是配网（设备接入）和控制（设备操控）。其中，配网（设备接入）是一种认证的过程，只有通过认证之后，用户才能对设备进行控制。

## 配网
配网，是控制端（通常我们用的是手机，也有使用遥控器）与待接入的设备进行一系列的数据交换，其中，这种交换包括对用户身份的认证，密钥的协商等。
IOT行业使用的配网的通信协议有蓝牙、TCP/IP、ZigBee、蓝牙Mesh、Thread、以太网协议等。

## 控制
控制，是控制端（通常我们用的是手机，也有使用遥控器）发送控制的指令（例如DP、物模型）给到已配网的设备，来达到设备行为的控制。

## 蓝牙
蓝牙(英文:Bluetooth)是一种短距离传输的协议，使用无线电波2.4Hz的进行通信。总结的一句话是，他是基于无线电波2.4hz上通信的一种协议，它并不是载体。它是和wifi、zigbee同级别的通讯协议，本质上它也可近似堪称是一个个人局域网。
以下是摘自维基百科上关于蓝牙的定义
> 蓝牙（英语：Bluetooth）是一种无线通信技术标准，用来让固定与移动设备，在短距离间交换资料，以形成个人局域网（PAN）。其使用短波特高频（UHF）无线电波，经由2.4至2.485 GHz的ISM频段来进行通信。1994年由电信商爱立信（Ericsson）发展出这个技术。它最初的设计是希望创建一个RS-232数据线的无线通信替代版本。它能够链接多个设备，以克服同步的亦被干扰等问题。
> 
> 蓝牙技术目前由蓝牙技术联盟（SIG）负责维护其技术标准，其成员已超过三万，分布在电信、电脑、网络与消费性电子产品等领域[5]。IEEE曾经将蓝牙技术标准化为IEEE 802.15.1，但是这个标准已经不再继续使用。

目前蓝牙的协议发展已经发展到第五代了，各位看官可以了解下蓝牙相关的发展史和每代的特性。

### 蓝牙低功耗（BLE）
在蓝牙4.0之前，蓝牙实际上都是经典蓝牙（BT），其中经典蓝牙分为传统蓝牙（1.0/2.0）和高速蓝牙（3.0），之前的经典蓝牙，设计上传输的数据量都是比较大的，例如我们的蓝牙耳机传输的音频数据。那么大数据意味着高功耗，有一部分需求是，传输的数据量本身并不大，延时更低，例如：手表、手环、防丢器等。因此低功耗蓝牙（蓝牙BLE）则被设计出来。它的特点则是，速度要求不高、功耗较低。
关于Android对蓝牙低功耗的运用，各位看官可以移步了解。

### 蓝牙Mesh
蓝牙Mesh是一种网络拓扑形的设计，它是在蓝牙低功耗的基础上设计的。我们都知道，蓝牙BLE是需要先通过蓝牙广播扫描到蓝牙设备，然后建立蓝牙的GATT连接的，在连接的基础上进行数据交互。蓝牙Mesh的设备与设备之间的结合了GATT和广播通信的方式，实现了拓扑结构的蓝牙网络。

> 蓝牙网格是一种基于低耗电蓝牙的计算机网格网络标准，允许通过蓝牙无线电进行多对多通信。蓝牙网格规格在网格配置文件和网格模型中由蓝牙技术联盟(Bluetooth sIG)定义。蓝牙 Mesh 构想于2014年 ，并于2017年7月13日被采用。

关于Android对蓝牙Mesh的运用，各位看官可以移步了解。

### 蓝牙Beacon技术
蓝牙Beacon也是一种基于蓝牙低功耗的通信技术，它主要是基于蓝牙低功耗的广播进行数据交互的。多数被用商场，Apple就设计出了自己公司的iBeacon，Google设计了Eddystone。

> Beacon 是建立在低功耗蓝牙协议基础上的一种广播协议，其工作方式是，配备有低功耗蓝牙（BLE）通信功能的设备使用BLE技术向周围发送自己特有的ID，接收到该ID的应用软件会根据该ID采取一些行动。

关于Android对蓝牙Beacon的运用，各位看官可以移步了解。
## ZigBee
> 一种低速短距离传输的无线网络协议，底层是采用IEEE 802.15.4标准规范的媒体访问层与物理层。主要特色有低速、低耗电、低成本、支持大量网络节点、支持多种网络拓扑、低复杂度、可靠、安全。

Zigbee跟蓝牙类似，都是在2.4GHz无线频道传输的局域网传输协议。但是区别蓝牙的是，ZigBee本身是被设计成一种拓扑形的传输形式，子设备和子设备之间都可以直接通过协议进行通信。由于我们日常使用的手机是没有ZigBee相应的传感器的，因此ZigBee协议往往会配合支持ZigBee的网关进行使用，手机与云端进行通信，经由云端到路由器或者到ZigBee网关，由ZigBee网关进行和子设备的控制。

关于Android对ZigBee的运用，各位看官可以移步了解。

## Matter
Matter协议和上述所说的不是一个层级的协议，它是一个应用层上的协议。这么说可能大家都不太明白。我们来看这个一个图。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/19c7bf7d349a48bdaa5968d16f6b94f4~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=880&h=395&s=97590&e=png&b=032449)

通常我们使用的无线通信技术，有很多频段，其中，蓝牙协议、WIFI基本上都是使用2.4GHz（这里先不考虑5G）。这里所说的频段，其实是我们现实生活中存在的无线电波，是物理存在的。而WIFI、蓝牙、以太网、Thread等是基于这个物理链路层设计的通信协议，是属于数据链路层的。其中TCP/IP、UPD是数据链路层的基础上设计的通讯协议，属于网络层。而matter是在网络上设计的应用层的协议。<br>
目前的智能家居行业使用解决方案众多，相互之间隔离严重，有WiFi、蓝牙、ZigBee、蜂窝或者有线等等不同通讯协议的设备。不仅不同协议之间的设备不能互通，而且连相同通讯协议之间的设备也不能互通。例如谷歌助手控制谷歌产品，亚马逊语音设备可以用于亚马逊的设备，苹果使用Siri来驱动其产品，而国内小米、阿里等物联网平台也都有自己的生态。而Matter协议就是为了解决这些兼容性问题而诞生的， 并且在2022年十月CSA（连接标准联盟）正式发布了Matter标准协议1.0版本。
